<h2>Skills</h2>

<div class="center-inside-row-start">
  <% counter = 1 %>
  <% data.skills.each do |skill| %>
    <% skill.each do |name, info| %>
      <div class= "text-center">
        <canvas id= "<%= name %>" height="130" width="130"></canvas>
        <h5><%= info["title"] %></h5>

        <% info["bullets"].each_value do |content| %>
          <div>
            <%= content %>
          </div>
        <% end %>

        <div class = "btn-green btn-size-small margined-top skill-detail-<%= counter %>">
          View more
        </div>
        <% counter += 1 %>

        <% count = 1 %>

        <div class="hidden skill-to-hide-<%= counter %>">
          <% info["numbers"].each_value do |number| %>
            <%= info["bullets"]["b#{count}"] %>
            <div>
             <% number.times do %>
              <i class = "fa fa-circle"></i>
              <% end %>
              <% (6 - number).times do %>
                <i class="fa fa-circle-thin"></i>
              <% end %>
              <% count += 1 %>
            </div>
          <% end %>
        </div>


      </div>

      <% content_for(:after_js) do %>
        <script>
          $(function(){
            $(".skill-detail-"+ <%= counter %>).on("click", function(e){
              // Change active tab
              console.log(".skill-detail-"+ <%= counter %>);
              $(".skill-to-hide-"+ <%= counter %>).toggleClass('hidden');
            });
          });
        </script>

        <script>
          var options = {
            percentageInnerCutout: 80
          };
          var doughnutData = [
              {
                value: 70,
                color: "#1AA59A"
              },
              {
                value : 30,
                color : "#FBFBFB"
              }
            ];

            var myDoughnut = new Chart(document.getElementById("<%= name %>").getContext("2d")).Doughnut(doughnutData, options);
        </script>


      <% end %>

    <% end %>
  <% end %>
</div>
